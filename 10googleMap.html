<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Google Map</title>
  <!-- synchronvs asynchron
async :sonst muss maps zuerst laden

seite lÃ¤dt zuerst: google not defined

-->
  <script src="jquery-3.3.1.min.js"></script>
  <script  async src="https://maps.googleapis.com/maps/api/js?callback=machKarte"></script>
  <script type="text/javascript">

    //texteingabe button liste mit orten kreuz in der mitte


    //machKarte muss globale funktion sein
    var machKarte = function(){
        var kartenOptionen ={
            center:{
                lat:48.1,
                lng:16.45

            },
            zoom:13
        }
        var meinemap = new google.maps.Map( $('#karte').get(0),kartenOptionen );

          new google.maps.Marker({
             position:{
                 lat:48.2,lng:16.8
             },
             map: meinemap,
             label:'af'
          });
          new google.maps.Marker({
             position:{
                 lat:48.1,lng:16.45
             },
             map: meinemap,
             label:'af'
          });

    var setMarkerMiddle = function(text){
        var mitte = meinemap.getCenter();
        //console.log(mitte.lat());
        new google.maps.Marker({
           position:{
               lat:mitte.lat(),lng:mitte.lng()
           },
           map: meinemap,
           label:text
        });
        return mitte;
    }

            $('#setMarker').click(function(){
                var eingabe =$('#eingabe').val();
                var mitte =setMarkerMiddle(eingabe);
                //console.log(mitte.lat());
                //$('#ausgabe').html(mitte.lng()+','+ mitte.lat() +'  '+ eingabe);
                //  $('#ticketsDemosss').append($('<li>').text('sds'));
                $('#tul').append( $("<li>")).text('text');

                //html(mitte.lng()+','+ mitte.lat() +'  '+ eingabe);
            });




          //geolocation

            // navigator.geolocation.getCurrentPosition(function(position){//cb function
            //     new google.maps.Marker({
            //        position:{
            //            lat:position.coords.latitude,lng:position.coords.longitude
            //        },
            //        map: meinemap,
            //        label:'currentlocation'
            //     });
            //
            // });

//


    }


    $(document).ready(function(){



    });

  </script>
<style media="screen">
  #karte{ border:1px solid black; width:400px; height:300px;}
</style>
</head>

<body>
<div id="karte"></div>
<button id="setMarker"> Set Marker </button>
<input type="text" id="eingabe">
<div id="ausgabe"></div>
<ul id="tul"></ul>
</body>
</html>
